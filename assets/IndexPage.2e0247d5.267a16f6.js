import{U,q as ge,X as be,g as G,h as ye,u as he,b as Se,G as xe,e as _e,$ as ke,l as L,j as qe}from"./QBtn.91689020.1482a51a.js";import{p as Z,y as ee,c as le,f as te,a as $e,e as we}from"./comment.e1f49a27.e2c62649.js";import{af as Ce,f,r as ae,L as P,i as m,K as _,u as I,$ as R,G as k,T as O,V as ne,N as ie,F as b,_ as K,ag as Be,P as u,W as Le,R as oe,a as q,c as w,D as y,H as W,a1 as x,m as re}from"./index.ac0055ed.js";import{b as T,x as X,N as J,u as Ve,E as Ne,f as ze,P as Me}from"./QEditor.712cc26b.2d49c758.js";function j(e,t){return[!0,!1].includes(e)?e:t}var Ie=U({name:"QPagination",props:{...le,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||be.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:t}){const{proxy:l}=re(),{$q:i}=l,p=te(e,i),o=u(()=>parseInt(e.min,10)),d=u(()=>parseInt(e.max,10)),v=u(()=>parseInt(e.maxPages,10)),c=u(()=>s.value+" / "+d.value),$=u(()=>j(e.boundaryLinks,e.input)),C=u(()=>j(e.boundaryNumbers,!e.input)),E=u(()=>j(e.directionLinks,e.input)),V=u(()=>j(e.ellipses,!e.input)),r=P(null),s=u({get:()=>e.modelValue,set:a=>{if(a=parseInt(a,10),e.disable||isNaN(a))return;const n=$e(a,o.value,d.value);e.modelValue!==n&&t("update:modelValue",n)}});Le(()=>`${o.value}|${d.value}`,()=>{s.value=e.modelValue});const g=u(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),D=u(()=>e.gutter in G?`${G[e.gutter]}px`:e.gutter||null),ue=u(()=>D.value!==null?`--q-pagination-gutter-parent:-${D.value};--q-pagination-gutter-child:${D.value}`:null),F=u(()=>{const a=[e.iconFirst||i.iconSet.pagination.first,e.iconPrev||i.iconSet.pagination.prev,e.iconNext||i.iconSet.pagination.next,e.iconLast||i.iconSet.pagination.last];return i.lang.rtl===!0?a.reverse():a}),de=u(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),A=u(()=>ye(e,"flat")),ce=u(()=>({[A.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),pe=u(()=>{const a={[A.value]:!1};return e.activeDesign!==""&&(a[e.activeDesign]=!0),a}),me=u(()=>({...pe.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),N=u(()=>{let a=Math.max(v.value,1+(V.value?2:0)+(C.value?2:0));const n={pgFrom:o.value,pgTo:d.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(d.value).length)}em`}};return v.value&&a<d.value-o.value+1&&(a=1+Math.floor(a/2)*2,n.pgFrom=Math.max(o.value,Math.min(d.value-a+1,e.modelValue-Math.floor(a/2))),n.pgTo=Math.min(d.value,n.pgFrom+a-1),C.value&&(n.boundaryStart=!0,n.pgFrom++),V.value&&n.pgFrom>o.value+(C.value?1:0)&&(n.ellipsesStart=!0,n.pgFrom++),C.value&&(n.boundaryEnd=!0,n.pgTo--),V.value&&n.pgTo<d.value-(C.value?1:0)&&(n.ellipsesEnd=!0,n.pgTo--)),n});function H(a){s.value=a}function ve(a){s.value=s.value+a}const fe=u(()=>{function a(){s.value=r.value,r.value=null}return{"onUpdate:modelValue":n=>{r.value=n},onKeyup:n=>{oe(n,13)===!0&&a()},onBlur:a}});function S(a,n,z){const B={"aria-label":n,"aria-current":"false",...ce.value,...a};return z===!0&&Object.assign(B,{"aria-current":"true",...me.value}),n!==void 0&&(e.toFn!==void 0?B.to=e.toFn(n):B.onClick=()=>{H(n)}),q(L,B)}return Object.assign(l,{set:H,setByOffset:ve}),()=>{const a=[],n=[];let z;if($.value===!0&&(a.push(S({key:"bls",disable:e.disable||e.modelValue<=o.value,icon:F.value[0]},o.value)),n.unshift(S({key:"ble",disable:e.disable||e.modelValue>=d.value,icon:F.value[3]},d.value))),E.value===!0&&(a.push(S({key:"bdp",disable:e.disable||e.modelValue<=o.value,icon:F.value[1]},e.modelValue-1)),n.unshift(S({key:"bdn",disable:e.disable||e.modelValue>=d.value,icon:F.value[2]},e.modelValue+1))),e.input!==!0){z=[];const{pgFrom:B,pgTo:Q,marginalStyle:M}=N.value;if(N.value.boundaryStart===!0){const h=o.value===e.modelValue;a.push(S({key:"bns",style:M,disable:e.disable,label:o.value},o.value,h))}if(N.value.boundaryEnd===!0){const h=d.value===e.modelValue;n.unshift(S({key:"bne",style:M,disable:e.disable,label:d.value},d.value,h))}N.value.ellipsesStart===!0&&a.push(S({key:"bes",style:M,disable:e.disable,label:"\u2026",ripple:!1},B-1)),N.value.ellipsesEnd===!0&&n.unshift(S({key:"bee",style:M,disable:e.disable,label:"\u2026",ripple:!1},Q+1));for(let h=B;h<=Q;h++)z.push(S({key:`bpg${h}`,style:M,disable:e.disable,label:h},h,h===e.modelValue))}return q("div",{class:g.value,...de.value},[q("div",{class:"q-pagination__content row no-wrap items-center",style:ue.value},[...a,e.input===!0?q(we,{class:"inline",style:{width:`${c.value.length/1.5}em`},type:"number",dense:!0,value:r.value,disable:e.disable,dark:p.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:c.value,min:o.value,max:d.value,...fe.value}):q("div",{class:"q-pagination__middle row justify-center"},z),...n])])}}}),Pe=U({name:"QAvatar",props:{...he,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:t}){const l=Se(e),i=u(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),p=u(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const o=e.icon!==void 0?[q(xe,{name:e.icon})]:void 0;return q("div",{class:i.value,style:l.value},[q("div",{class:"q-avatar__content row flex-center overflow-hidden",style:p.value},_e(t.default,o))])}}}),Ee=U({name:"QList",props:{...le,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const l=re(),i=te(e,l.proxy.$q),p=u(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(i.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>q(e.tag,{class:p.value},ke(t.default))}});function Y(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var Fe=ge({name:"close-popup",beforeMount(e,{value:t}){const l={depth:Y(t),handler(i){l.depth!==0&&setTimeout(()=>{const p=ze(e);p!==void 0&&Me(p,i,l.depth)})},handlerKey(i){oe(i,13)===!0&&l.handler(i)}};e.__qclosepopup=l,e.addEventListener("click",l.handler),e.addEventListener("keyup",l.handlerKey)},updated(e,{value:t,oldValue:l}){t!==l&&(e.__qclosepopup.depth=Y(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const Te={class:"generalLayer"},je={class:"paddLayer"},Oe={class:"row justify-between"},De=["src"],Re={class:"positionBranche"},Ke={key:1,class:"positionTitle"},Ue={class:"positionDescription"},Ae=["innerHTML"],He={class:"row justify-end"},Qe={key:0,class:"bottomBar"},Ge={class:"positionInputButtonComments"},We={key:0},Xe={key:0},Je={key:1,class:"positionInputButtonComments"},Ye={__name:"LayerPostComment",props:{title:String,name:String,mail:String,password:String,date:String,description:String,pp_profile:String,id:Number,comment:Object,branche:String},setup(e){const t=Z(),l=ee(),i=P(!1),p=P(!0),o=ae({description:""});function d(){i.value=!i.value}function v(){o.description=""}function c(r){l.filteroption=r,l.filteroptiontitle=r.slice(0,20),l.tab=""}function $(){l.filteroptiontype="branche"}function C(){l.filteroptiontype="name"}function E(r){t.followed.indexOf(r)>=0?t.followed.shift(r):t.followed.push(r)}function V(r,s){p.value=!1,r.description!==""&&(p.value=!0,l.addComment("comment",s,o,t.Profile.name,t.Profile.mail,t.Profile.password,t.pp_profile,"localStorage"))}return(r,s)=>(m(),_("div",Te,[f("div",je,[f("div",Oe,[I((m(),w(J,{clickable:"",onClick:s[0]||(s[0]=g=>{c(e.name),C()})},{default:y(()=>[b(T,{side:""},{default:y(()=>[b(Pe,{rounded:"",size:"30px"},{default:y(()=>[f("img",{src:e.pp_profile},null,8,De)]),_:1})]),_:1}),b(T,null,{default:y(()=>[b(X,{class:"profilename"},{default:y(()=>[W(O(e.name),1)]),_:1})]),_:1})]),_:1})),[[qe]]),e.title!==void 0&&k(t).Profile.name==e.name&&k(t).Profile.mail==e.mail&&k(t).Profile.password==e.password?(m(),w(T,{key:0,side:""},{default:y(()=>[b(Ve,{color:"secondary"},{default:y(()=>[b(Ee,null,{default:y(()=>[I((m(),w(J,{clickable:"",onClick:s[1]||(s[1]=g=>k(l).deleteComment(e.id,"localStorage"))},{default:y(()=>[b(T,null,{default:y(()=>[b(X,null,{default:y(()=>[W("Supprimer")]),_:1})]),_:1})]),_:1})),[[Fe]])]),_:1})]),_:1})]),_:1})):x("",!0)]),f("div",Re,[e.title!==void 0?(m(),w(L,{key:0,class:"bg-primary",outline:"",color:"white",rounded:"",onClick:s[2]||(s[2]=g=>{c(e.branche),$()}),label:e.branche},null,8,["label"])):x("",!0),e.title!==void 0?(m(),_("h5",Ke,O(e.title),1)):x("",!0),f("div",Ue,[f("p",{innerHTML:e.description},null,8,Ae)])]),f("div",He,O(e.date),1)]),e.title!==void 0?(m(),_("div",Qe,[b(L,{onClick:d,icon:"fa-regular fa-comment"}),k(t).followed.indexOf(e.id)<0?(m(),w(L,{key:0,onClick:s[3]||(s[3]=g=>E(e.id)),icon:"fa-regular fa-heart"})):x("",!0),k(t).followed.indexOf(e.id)>=0?(m(),w(L,{key:1,onClick:s[4]||(s[4]=g=>E(e.id)),icon:"fa-solid fa-heart"})):x("",!0),I(f("div",Ge,[b(Ne,{dark:"",modelValue:o.description,"onUpdate:modelValue":s[5]||(s[5]=g=>o.description=g),dense:r.$q.screen.lt.md,toolbar:[[{label:r.$q.lang.editor.align,icon:r.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["fullscreen"],[{label:r.$q.lang.editor.formatting,icon:r.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:r.$q.lang.editor.fontSize,icon:r.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:r.$q.lang.editor.defaultFont,icon:r.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]}],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","dense","toolbar"]),e.title!==void 0?(m(),_("div",We,[b(L,{class:"positionInputButtonComments",color:"primary",icon:"mail","icon-right":"send",label:"R\xE9pondre",onClick:s[6]||(s[6]=g=>{V(o,e.id),v()})}),p.value==!1?(m(),_("div",Xe,"Il n'y a pas de commentaire")):x("",!0)])):x("",!0),e.comment.length?(m(),_("div",Je,[(m(!0),_(ne,null,ie(e.comment,g=>(m(),w(se,K({key:g.id},g),null,16))),128))])):x("",!0)],512),[[R,i.value]])])):x("",!0)]))}};var se=Ce(Ye,[["__scopeId","data-v-3bb5ed5d"]]);const Ze={class:"row justify-center text-center align-center"},el={class:"test"},ll=f("h1",{class:"white-text"},"R\xE9cents",-1),tl=[ll],al={class:"test"},nl={class:"white-text"},ul={__name:"IndexPage",setup(e){const t=Z(),l=ee();l.loadComments("localStorage"),t.profileload();const i=ae({index:Math.ceil(l.commentsList.length/5)}),p=P(),o=P(1);function d(v){l.filteroptiontype==null?(p.value=l.commentsList.slice((v-1)*5,v*5),i.index=Math.ceil(l.commentsList.length/5)):l.filteroptiontype=="branche"?(p.value=l.commentsList.filter(c=>c.branche==l.filteroption).slice((v-1)*5,v*5),i.index=Math.ceil(l.commentsList.filter(c=>c.branche==l.filteroption).length/5)):l.filteroptiontype=="name"?(p.value=l.commentsList.filter(c=>c.name==l.filteroption).slice((v-1)*5,v*5),i.index=Math.ceil(l.commentsList.filter(c=>c.name==l.filteroption).length/5)):l.filteroptiontype=="follow"&&(p.value=l.commentsList.filter(c=>t.followed.indexOf(c.id)>=0).slice((v-1)*5,v*5),i.index=1+Math.floor(l.commentsList.filter(c=>t.followed.indexOf(c.id)>=0).length/5))}return(v,c)=>(m(),_("div",null,[f("div",Ze,[I(f("div",el,tl,512),[[R,k(l).filteroptiontype===null]]),I(f("div",al,[f("h1",nl,O(k(l).filteroptiontitle),1)],512),[[R,k(l).filteroptiontype!==null]])]),f("div",null,[(m(!0),_(ne,null,ie(p.value,$=>(m(),w(se,K({key:$.title},$),null,16))),128)),b(Ie,K(Be(d(o.value)),{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=$=>o.value=$),max:i.index,"direction-links":"",flat:"",color:"grey","active-color":"primary"}),null,16,["modelValue","max"])])]))}};export{ul as default};
