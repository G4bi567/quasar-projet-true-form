import{v as Qe,m as Ue,c as M,b as Y,u as xt,a as St,e as qt,n as Tt,o as _e,p as he,l as Bt,q as Ke,Q as Ge,d as oe,r as Pt}from"./QBtn.91689020.js";import{q as Xe,o as F,l as ce,g as _,j as H,a as de,c as w,h as p,r as L,b as Ee,s as ke,a6 as Et,D as ve,B as me,G as qe,m as Te,a7 as Ae,K as Lt,a8 as Ht,a9 as Ot,y as Le,F as $t,T as Ye,n as zt,E as Je,d as Ze,M as _t,H as Re}from"./index.b1919d24.js";import{a as He,b as Oe,r as Fe,p as At,h as Ve,u as Rt,q as Ft}from"./comment.e1f49a27.js";function et(){let e;const t=_();function n(){e=void 0}return Xe(n),F(n),{removeTick:n,registerTick(o){e=o,ce(()=>{e===o&&(Qe(t)===!1&&e(),e=void 0)})}}}function tt(){let e=null;const t=_();function n(){e!==null&&(clearTimeout(e),e=null)}return Xe(n),F(n),{removeTimeout:n,registerTimeout(o,l){n(),Qe(t)===!1&&(e=setTimeout(o,l))}}}const nt={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},ot=["beforeShow","show","beforeHide","hide"];function lt({showing:e,canShow:t,hideOnRouteChange:n,handleShow:o,handleHide:l,processOnMount:u}){const a=_(),{props:s,emit:f,proxy:h}=a;let d;function m(g){e.value===!0?C(g):v(g)}function v(g){if(s.disable===!0||g!==void 0&&g.qAnchorHandled===!0||t!==void 0&&t(g)!==!0)return;const b=s["onUpdate:modelValue"]!==void 0;b===!0&&(f("update:modelValue",!0),d=g,ce(()=>{d===g&&(d=void 0)})),(s.modelValue===null||b===!1)&&c(g)}function c(g){e.value!==!0&&(e.value=!0,f("beforeShow",g),o!==void 0?o(g):f("show",g))}function C(g){if(s.disable===!0)return;const b=s["onUpdate:modelValue"]!==void 0;b===!0&&(f("update:modelValue",!1),d=g,ce(()=>{d===g&&(d=void 0)})),(s.modelValue===null||b===!1)&&q(g)}function q(g){e.value!==!1&&(e.value=!1,f("beforeHide",g),l!==void 0?l(g):f("hide",g))}function O(g){s.disable===!0&&g===!0?s["onUpdate:modelValue"]!==void 0&&f("update:modelValue",!1):g===!0!==e.value&&(g===!0?c:q)(d)}H(()=>s.modelValue,O),n!==void 0&&Ue(a)===!0&&H(()=>h.$route.fullPath,()=>{n.value===!0&&e.value===!0&&C()}),u===!0&&de(()=>{O(s.modelValue)});const P={show:v,hide:C,toggle:m};return Object.assign(h,P),P}var xn=M({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=w(()=>parseInt(e.lines,10)),o=w(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),l=w(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>p("div",{style:l.value,class:o.value},Y(t.default))}}),Ne=M({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=w(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>p("div",{class:n.value},Y(t.default))}}),Nt=M({name:"QItem",props:{...He,...xt,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=_(),l=Oe(e,o),{hasLink:u,linkAttrs:a,linkClass:s,linkTag:f,navigateOnClick:h}=St(),d=L(null),m=L(null),v=w(()=>e.clickable===!0||u.value===!0||e.tag==="label"),c=w(()=>e.disable!==!0&&v.value===!0),C=w(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(l.value===!0?" q-item--dark":"")+(u.value===!0&&e.active===null?s.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(c.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),q=w(()=>{if(e.insetLevel===void 0)return null;const b=o.lang.rtl===!0?"Right":"Left";return{["padding"+b]:16+e.insetLevel*56+"px"}});function O(b){c.value===!0&&(m.value!==null&&(b.qKeyEvent!==!0&&document.activeElement===d.value?m.value.focus():document.activeElement===m.value&&d.value.focus()),h(b))}function P(b){if(c.value===!0&&Ee(b,13)===!0){ke(b),b.qKeyEvent=!0;const y=new MouseEvent("click",b);y.qKeyEvent=!0,d.value.dispatchEvent(y)}n("keyup",b)}function g(){const b=qt(t.default,[]);return c.value===!0&&b.unshift(p("div",{class:"q-focus-helper",tabindex:-1,ref:m})),b}return()=>{const b={ref:d,class:C.value,style:q.value,role:"listitem",onClick:O,onKeyup:P};return c.value===!0?(b.tabindex=e.tabindex||"0",Object.assign(b,a.value)):v.value===!0&&(b["aria-disabled"]="true"),p(f.value,b,g())}}});const Mt=[null,document,document.body,document.scrollingElement,document.documentElement];function it(e,t){let n=Tt(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return Mt.includes(n)?window:n}function Sn(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function qn(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let fe;function Dt(){if(fe!==void 0)return fe;const e=document.createElement("p"),t=document.createElement("div");_e(e,{width:"100%",height:"200px"}),_e(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let o=e.offsetWidth;return n===o&&(o=t.clientWidth),t.remove(),fe=n-o,fe}function Tn(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}function Be(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Et.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const at={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function rt({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:l,emit:u}=_(),a=L(null);let s=null;function f(c){return a.value===null?!1:c===void 0||c.touches===void 0||c.touches.length<=1}const h={};n===void 0&&(Object.assign(h,{hide(c){l.hide(c)},toggle(c){l.toggle(c),c.qAnchorHandled=!0},toggleKey(c){Ee(c,13)===!0&&h.toggle(c)},contextClick(c){l.hide(c),ve(c),ce(()=>{l.show(c),c.qAnchorHandled=!0})},prevent:ve,mobileTouch(c){if(h.mobileCleanup(c),f(c)!==!0)return;l.hide(c),a.value.classList.add("non-selectable");const C=c.target;me(h,"anchor",[[C,"touchmove","mobileCleanup","passive"],[C,"touchend","mobileCleanup","passive"],[C,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{s=null,l.show(c),c.qAnchorHandled=!0},300)},mobileCleanup(c){a.value.classList.remove("non-selectable"),s!==null&&(clearTimeout(s),s=null),e.value===!0&&c!==void 0&&Be()}}),n=function(c=o.contextMenu){if(o.noParentEvent===!0||a.value===null)return;let C;c===!0?l.$q.platform.is.mobile===!0?C=[[a.value,"touchstart","mobileTouch","passive"]]:C=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:C=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],me(h,"anchor",C)});function d(){qe(h,"anchor")}function m(c){for(a.value=c;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;n()}function v(){if(o.target===!1||o.target===""||l.$el.parentNode===null)a.value=null;else if(o.target===!0)m(l.$el.parentNode);else{let c=o.target;if(typeof o.target=="string")try{c=document.querySelector(o.target)}catch{c=void 0}c!=null?(a.value=c.$el||c,n()):(a.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return H(()=>o.contextMenu,c=>{a.value!==null&&(d(),n(c))}),H(()=>o.target,()=>{a.value!==null&&d(),v()}),H(()=>o.noParentEvent,c=>{a.value!==null&&(c===!0?d():n())}),de(()=>{v(),t!==!0&&o.modelValue===!0&&a.value===null&&u("update:modelValue",!1)}),F(()=>{s!==null&&clearTimeout(s),d()}),{anchorEl:a,canShow:f,anchorEvents:h}}function st(e,t){const n=L(null);let o;function l(s,f){const h=`${f!==void 0?"add":"remove"}EventListener`,d=f!==void 0?f:o;s!==window&&s[h]("scroll",d,Te.passive),window[h]("scroll",d,Te.passive),o=f}function u(){n.value!==null&&(l(n.value),n.value=null)}const a=H(()=>e.noParentEvent,()=>{n.value!==null&&(u(),t())});return F(a),{localScrollTarget:n,unconfigureScrollTarget:u,changeScrollEvent:l}}let Wt=1,jt=document.body;function It(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${Wt++}`:e,Ae.globalNodes!==void 0){const o=Ae.globalNodes.class;o!==void 0&&(n.className=o)}return jt.appendChild(n),n}function Qt(e){e.remove()}const le=[];function Bn(e){return le.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function ut(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return he(e)}else if(e.__qPortal===!0){const n=he(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=he(e)}while(e!=null)}function Pn(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=ut(e,t);continue}e.hide(t)}e=he(e)}}function Ut(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function ct(e,t,n,o){const l=L(!1),u=L(!1);let a=null;const s={},f=o==="dialog"&&Ut(e);function h(m){if(m===!0){Fe(s),u.value=!0;return}u.value=!1,l.value===!1&&(f===!1&&a===null&&(a=It(!1,o)),l.value=!0,le.push(e.proxy),At(s))}function d(m){if(u.value=!1,m!==!0)return;Fe(s),l.value=!1;const v=le.indexOf(e.proxy);v!==-1&&le.splice(v,1),a!==null&&(Qt(a),a=null)}return Lt(()=>{d(!0)}),e.proxy.__qPortal=!0,Ht(e.proxy,"contentEl",()=>t.value),{showPortal:h,hidePortal:d,portalIsActive:l,portalIsAccessible:u,renderPortal:()=>f===!0?n():l.value===!0?[p(Ot,{to:a},n())]:void 0}}const $e={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function dt(e,t=()=>{},n=()=>{}){return{transitionProps:w(()=>{const o=`q-transition--${e.transitionShow||t()}`,l=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${l}-leave-from`,leaveActiveClass:`${l}-leave-active`,leaveToClass:`${l}-leave-to`}}),transitionStyle:w(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const K=[];let ie;function Kt(e){ie=e.keyCode===27}function Gt(){ie===!0&&(ie=!1)}function Xt(e){ie===!0&&(ie=!1,Ee(e,27)===!0&&K[K.length-1](e))}function ft(e){window[e]("keydown",Kt),window[e]("blur",Gt),window[e]("keyup",Xt),ie=!1}function Yt(e){Le.is.desktop===!0&&(K.push(e),K.length===1&&ft("addEventListener"))}function Me(e){const t=K.indexOf(e);t>-1&&(K.splice(t,1),K.length===0&&ft("removeEventListener"))}const G=[];function ht(e){G[G.length-1](e)}function Jt(e){Le.is.desktop===!0&&(G.push(e),G.length===1&&document.body.addEventListener("focusin",ht))}function Zt(e){const t=G.indexOf(e);t>-1&&(G.splice(t,1),G.length===0&&document.body.removeEventListener("focusin",ht))}const{notPassiveCapture:ge}=Te,X=[];function pe(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=le.length-1;for(;n>=0;){const o=le[n].$;if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=X.length-1;o>=0;o--){const l=X[o];if((l.anchorEl.value===null||l.anchorEl.value.contains(t)===!1)&&(t===document.body||l.innerRef.value!==null&&l.innerRef.value.contains(t)===!1))e.qClickOutside=!0,l.onClickOutside(e);else return}}function vt(e){X.push(e),X.length===1&&(document.addEventListener("mousedown",pe,ge),document.addEventListener("touchstart",pe,ge))}function be(e){const t=X.findIndex(n=>n===e);t>-1&&(X.splice(t,1),X.length===0&&(document.removeEventListener("mousedown",pe,ge),document.removeEventListener("touchstart",pe,ge)))}let De,We;function ye(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function mt(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Pe={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Pe[`${e}#ltr`]=e,Pe[`${e}#rtl`]=e});function we(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:Pe[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function Vt(e,t){let{top:n,left:o,right:l,bottom:u,width:a,height:s}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],u+=t[1],l+=t[0],a+=t[0],s+=t[1]),{top:n,bottom:u,height:s,left:o,right:l,width:a,middle:o+(l-o)/2,center:n+(u-n)/2}}function en(e,t,n){let{top:o,left:l}=e.getBoundingClientRect();return o+=t.top,l+=t.left,n!==void 0&&(o+=n[1],l+=n[0]),{top:o,bottom:o+1,height:1,left:l,right:l+1,width:1,middle:l,center:o}}function tn(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function je(e,t,n){return{top:e[n.anchorOrigin.vertical]-t[n.selfOrigin.vertical],left:e[n.anchorOrigin.horizontal]-t[n.selfOrigin.horizontal]}}function gt(e){if(Le.is.ios===!0&&window.visualViewport!==void 0){const s=document.body.style,{offsetLeft:f,offsetTop:h}=window.visualViewport;f!==De&&(s.setProperty("--q-pe-left",f+"px"),De=f),h!==We&&(s.setProperty("--q-pe-top",h+"px"),We=h)}const{scrollLeft:t,scrollTop:n}=e.el,o=e.absoluteOffset===void 0?Vt(e.anchorEl,e.cover===!0?[0,0]:e.offset):en(e.anchorEl,e.absoluteOffset,e.offset);let l={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(l.minWidth=o.width+"px",e.cover===!0&&(l.minHeight=o.height+"px")),Object.assign(e.el.style,l);const u=tn(e.el);let a=je(o,u,e);if(e.absoluteOffset===void 0||e.offset===void 0)Ce(a,o,u,e.anchorOrigin,e.selfOrigin);else{const{top:s,left:f}=a;Ce(a,o,u,e.anchorOrigin,e.selfOrigin);let h=!1;if(a.top!==s){h=!0;const d=2*e.offset[1];o.center=o.top-=d,o.bottom-=d+2}if(a.left!==f){h=!0;const d=2*e.offset[0];o.middle=o.left-=d,o.right-=d+2}h===!0&&(a=je(o,u,e),Ce(a,o,u,e.anchorOrigin,e.selfOrigin))}l={top:a.top+"px",left:a.left+"px"},a.maxHeight!==void 0&&(l.maxHeight=a.maxHeight+"px",o.height>a.maxHeight&&(l.minHeight=l.maxHeight)),a.maxWidth!==void 0&&(l.maxWidth=a.maxWidth+"px",o.width>a.maxWidth&&(l.minWidth=l.maxWidth)),Object.assign(e.el.style,l),e.el.scrollTop!==n&&(e.el.scrollTop=n),e.el.scrollLeft!==t&&(e.el.scrollLeft=t)}function Ce(e,t,n,o,l){const u=n.bottom,a=n.right,s=Dt(),f=window.innerHeight-s,h=document.body.clientWidth;if(e.top<0||e.top+u>f)if(l.vertical==="center")e.top=t[o.vertical]>f/2?Math.max(0,f-u):0,e.maxHeight=Math.min(u,f);else if(t[o.vertical]>f/2){const d=Math.min(f,o.vertical==="center"?t.center:o.vertical===l.vertical?t.bottom:t.top);e.maxHeight=Math.min(u,d),e.top=Math.max(0,d-u)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===l.vertical?t.top:t.bottom),e.maxHeight=Math.min(u,f-e.top);if(e.left<0||e.left+a>h)if(e.maxWidth=Math.min(a,h),l.horizontal==="middle")e.left=t[o.horizontal]>h/2?Math.max(0,h-a):0;else if(t[o.horizontal]>h/2){const d=Math.min(h,o.horizontal==="middle"?t.middle:o.horizontal===l.horizontal?t.right:t.left);e.maxWidth=Math.min(a,d),e.left=Math.max(0,d-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===l.horizontal?t.left:t.right),e.maxWidth=Math.min(a,h-e.left)}var nn=M({name:"QMenu",inheritAttrs:!1,props:{...at,...nt,...He,...$e,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ye},self:{type:String,validator:ye},offset:{type:Array,validator:mt},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...ot,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){let l=null,u,a,s;const f=_(),{proxy:h}=f,{$q:d}=h,m=L(null),v=L(!1),c=w(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),C=Oe(e,d),{registerTick:q,removeTick:O}=et(),{registerTimeout:P}=tt(),{transitionProps:g,transitionStyle:b}=dt(e),{localScrollTarget:y,changeScrollEvent:E,unconfigureScrollTarget:J}=st(e,S),{anchorEl:x,canShow:ae}=rt({showing:v}),{hide:N}=lt({showing:v,canShow:ae,handleShow:te,handleHide:ne,hideOnRouteChange:c,processOnMount:!0}),{showPortal:D,hidePortal:W,renderPortal:re}=ct(f,m,r,"menu"),j={anchorEl:x,innerRef:m,onClickOutside(i){if(e.persistent!==!0&&v.value===!0)return N(i),(i.type==="touchstart"||i.target.classList.contains("q-dialog__backdrop"))&&ke(i),!0}},Z=w(()=>we(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),V=w(()=>e.cover===!0?Z.value:we(e.self||"top start",d.lang.rtl)),A=w(()=>(e.square===!0?" q-menu--square":"")+(C.value===!0?" q-menu--dark q-dark":"")),se=w(()=>e.autoClose===!0?{onClick:R}:{}),ee=w(()=>v.value===!0&&e.persistent!==!0);H(ee,i=>{i===!0?(Yt(z),vt(j)):(Me(z),be(j))});function I(){Ve(()=>{let i=m.value;i&&i.contains(document.activeElement)!==!0&&(i=i.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||i.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||i.querySelector("[autofocus], [data-autofocus]")||i,i.focus({preventScroll:!0}))})}function te(i){if(l=e.noRefocus===!1?document.activeElement:null,Jt(T),D(),S(),u=void 0,i!==void 0&&(e.touchPosition||e.contextMenu)){const k=$t(i);if(k.left!==void 0){const{top:B,left:$}=x.value.getBoundingClientRect();u={left:k.left-$,top:k.top-B}}}a===void 0&&(a=H(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,U)),e.noFocus!==!0&&document.activeElement.blur(),q(()=>{U(),e.noFocus!==!0&&I()}),P(()=>{d.platform.is.ios===!0&&(s=e.autoClose,m.value.click()),U(),D(!0),n("show",i)},e.transitionDuration)}function ne(i){O(),W(),Q(!0),l!==null&&(i===void 0||i.qClickOutside!==!0)&&(((i&&i.type.indexOf("key")===0?l.closest('[tabindex]:not([tabindex^="-"])'):void 0)||l).focus(),l=null),P(()=>{W(!0),n("hide",i)},e.transitionDuration)}function Q(i){u=void 0,a!==void 0&&(a(),a=void 0),(i===!0||v.value===!0)&&(Zt(T),J(),be(j),Me(z)),i!==!0&&(l=null)}function S(){(x.value!==null||e.scrollTarget!==void 0)&&(y.value=it(x.value,e.scrollTarget),E(y.value,U))}function R(i){s!==!0?(ut(h,i),n("click",i)):s=!1}function T(i){ee.value===!0&&e.noFocus!==!0&&Bt(m.value,i.target)!==!0&&I()}function z(i){n("escapeKey"),N(i)}function U(){const i=m.value;i===null||x.value===null||gt({el:i,offset:e.offset,anchorEl:x.value,anchorOrigin:Z.value,selfOrigin:V.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function r(){return p(Ye,g.value,()=>v.value===!0?p("div",{role:"menu",...o,ref:m,tabindex:-1,class:["q-menu q-position-engine scroll"+A.value,o.class],style:[o.style,b.value],...se.value},Y(t.default)):null)}return F(Q),Object.assign(h,{focus:I,updatePosition:U}),re}});function pt(e,t){if(t&&e===t)return null;const n=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(n)===!0)return e;const o=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,l=o.display;return l==="block"||l==="table"?e:pt(e.parentNode)}function xe(e,t,n){return!e||e===document.body?!1:n===!0&&e===t||(t===document?document.body:t).contains(e.parentNode)}function bt(e,t,n){if(n||(n=document.createRange(),n.selectNode(e),n.setStart(e,0)),t.count===0)n.setEnd(e,t.count);else if(t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(n.setEnd(e,t.count),t.count=0);else for(let o=0;t.count!==0&&o<e.childNodes.length;o++)n=bt(e.childNodes[o],t,n);return n}const on=/^https?:\/\//;class ln{constructor(t,n){this.el=t,this.eVm=n,this._range=null}get selection(){if(this.el){const t=document.getSelection();if(xe(t.anchorNode,this.el,!0)&&xe(t.focusNode,this.el,!0))return t}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length>0:!1}get range(){const t=this.selection;return t!==null&&t.rangeCount?t.getRangeAt(0):this._range}get parent(){const t=this.range;if(t!==null){const n=t.startContainer;return n.nodeType===document.ELEMENT_NODE?n:n.parentNode}return null}get blockParent(){const t=this.parent;return t!==null?pt(t,this.el):null}save(t=this.range){t!==null&&(this._range=t)}restore(t=this._range){const n=document.createRange(),o=document.getSelection();t!==null?(n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset),o.removeAllRanges(),o.addRange(n)):(o.selectAllChildren(this.el),o.collapseToEnd())}savePosition(){let t=-1,n;const o=document.getSelection(),l=this.el.parentNode;if(o.focusNode&&xe(o.focusNode,l))for(n=o.focusNode,t=o.focusOffset;n&&n!==l;)n!==this.el&&n.previousSibling?(n=n.previousSibling,t+=n.textContent.length):n=n.parentNode;this.savedPos=t}restorePosition(t=0){if(this.savedPos>0&&this.savedPos<t){const n=window.getSelection(),o=bt(this.el,{count:this.savedPos});o&&(o.collapse(!1),n.removeAllRanges(),n.addRange(o))}}hasParent(t,n){const o=n?this.parent:this.blockParent;return o!==null?o.nodeName.toLowerCase()===t.toLowerCase():!1}hasParents(t,n,o=this.parent){return o===null?!1:t.includes(o.nodeName.toLowerCase())===!0?!0:n===!0?this.hasParents(t,n,o.parentNode):!1}is(t,n){if(this.selection===null)return!1;switch(t){case"formatBlock":return n==="DIV"&&this.parent===this.el||this.hasParent(n,n==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(t)===n;case"fontName":const o=document.queryCommandValue(t);return o===`"${n}"`||o===n;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const l=document.queryCommandState(t);return n!==void 0?l===n:l}}getParentAttribute(t){return this.parent!==null?this.parent.getAttribute(t):null}can(t){if(t==="outdent")return this.hasParents(["blockquote","li"],!0);if(t==="indent")return this.hasParents(["li"],!0);if(t==="link")return this.selection!==null||this.is("link")}apply(t,n,o=zt){if(t==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(n)&&this.is(t,n)&&(t="outdent",n=null),n==="PRE"&&this.is(t,"PRE")&&(n="P");else if(t==="print"){o();const l=window.open();l.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),l.print(),l.close();return}else if(t==="link"){const l=this.getParentAttribute("href");if(l===null){const u=this.selectWord(this.selection),a=u?u.toString():"";if(!a.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=on.test(a)?a:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(u.getRangeAt(0))}else this.eVm.editLinkUrl.value=l,this.range.selectNodeContents(this.parent),this.save();return}else if(t==="fullscreen"){this.eVm.toggleFullscreen(),o();return}else if(t==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),o();return}document.execCommand(t,!1,n),o()}selectWord(t){if(t===null||t.isCollapsed!==!0||t.modify===void 0)return t;const n=document.createRange();n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset);const o=n.collapsed?["backward","forward"]:["forward","backward"];n.detach();const l=t.focusNode,u=t.focusOffset;return t.collapse(t.anchorNode,t.anchorOffset),t.modify("move",o[0],"character"),t.modify("move",o[1],"word"),t.extend(l,u),t.modify("extend",o[1],"character"),t.modify("extend",o[0],"word"),t}}var an=M({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=w(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(l=>e[l]===!0).map(l=>`q-btn-group--${l}`).join(" ");return`q-btn-group row no-wrap${o.length>0?" "+o:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>p("div",{class:n.value},Y(t.default))}});const rn=Object.keys(Ke),sn=e=>rn.reduce((t,n)=>{const o=e[n];return o!==void 0&&(t[n]=o),t},{});var un=M({name:"QBtnDropdown",props:{...Ke,...$e,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:n}){const{proxy:o}=_(),l=L(e.modelValue),u=L(null),a=Rt(),s=w(()=>{const y={"aria-expanded":l.value===!0?"true":"false","aria-haspopup":"true","aria-controls":a,"aria-label":e.toggleAriaLabel||o.$q.lang.label[l.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(y["aria-disabled"]="true"),y}),f=w(()=>"q-btn-dropdown__arrow"+(l.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),h=w(()=>Pt(e)),d=w(()=>sn(e));H(()=>e.modelValue,y=>{u.value!==null&&u.value[y?"show":"hide"]()}),H(()=>e.split,b);function m(y){l.value=!0,n("beforeShow",y)}function v(y){n("show",y),n("update:modelValue",!0)}function c(y){l.value=!1,n("beforeHide",y)}function C(y){n("hide",y),n("update:modelValue",!1)}function q(y){n("click",y)}function O(y){Je(y),b(),n("click",y)}function P(y){u.value!==null&&u.value.toggle(y)}function g(y){u.value!==null&&u.value.show(y)}function b(y){u.value!==null&&u.value.hide(y)}return Object.assign(o,{show:g,hide:b,toggle:P}),de(()=>{e.modelValue===!0&&g()}),()=>{const y=[p(Ge,{class:f.value,name:e.dropdownIcon||o.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&y.push(p(nn,{ref:u,id:a,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:m,onShow:v,onBeforeHide:c,onHide:C},t.default)),e.split===!1?p(oe,{class:"q-btn-dropdown q-btn-dropdown--simple",...d.value,...s.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:q},{default:()=>Y(t.label,[]).concat(y),loading:t.loading}):p(an,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...h.value,glossy:e.glossy,stretch:e.stretch},()=>[p(oe,{class:"q-btn-dropdown--current",...d.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:O},{default:t.label,loading:t.loading}),p(oe,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...s.value,...h.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>y)])}}}),cn=M({name:"QTooltip",inheritAttrs:!1,props:{...at,...nt,...$e,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:ye},self:{type:String,default:"top middle",validator:ye},offset:{type:Array,default:()=>[14,14],validator:mt},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...ot],setup(e,{slots:t,emit:n,attrs:o}){let l,u;const a=_(),{proxy:{$q:s}}=a,f=L(null),h=L(!1),d=w(()=>we(e.anchor,s.lang.rtl)),m=w(()=>we(e.self,s.lang.rtl)),v=w(()=>e.persistent!==!0),{registerTick:c,removeTick:C}=et(),{registerTimeout:q}=tt(),{transitionProps:O,transitionStyle:P}=dt(e),{localScrollTarget:g,changeScrollEvent:b,unconfigureScrollTarget:y}=st(e,te),{anchorEl:E,canShow:J,anchorEvents:x}=rt({showing:h,configureAnchorEl:I}),{show:ae,hide:N}=lt({showing:h,canShow:J,handleShow:j,handleHide:Z,hideOnRouteChange:v,processOnMount:!0});Object.assign(x,{delayShow:se,delayHide:ee});const{showPortal:D,hidePortal:W,renderPortal:re}=ct(a,f,Q,"tooltip");if(s.platform.is.mobile===!0){const S={anchorEl:E,innerRef:f,onClickOutside(T){return N(T),T.target.classList.contains("q-dialog__backdrop")&&ke(T),!0}},R=w(()=>e.modelValue===null&&e.persistent!==!0&&h.value===!0);H(R,T=>{(T===!0?vt:be)(S)}),F(()=>{be(S)})}function j(S){D(),c(()=>{u=new MutationObserver(()=>A()),u.observe(f.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),A(),te()}),l===void 0&&(l=H(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,A)),q(()=>{D(!0),n("show",S)},e.transitionDuration)}function Z(S){C(),W(),V(),q(()=>{W(!0),n("hide",S)},e.transitionDuration)}function V(){u!==void 0&&(u.disconnect(),u=void 0),l!==void 0&&(l(),l=void 0),y(),qe(x,"tooltipTemp")}function A(){const S=f.value;E.value===null||!S||gt({el:S,offset:e.offset,anchorEl:E.value,anchorOrigin:d.value,selfOrigin:m.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function se(S){if(s.platform.is.mobile===!0){Be(),document.body.classList.add("non-selectable");const R=E.value,T=["touchmove","touchcancel","touchend","click"].map(z=>[R,z,"delayHide","passiveCapture"]);me(x,"tooltipTemp",T)}q(()=>{ae(S)},e.delay)}function ee(S){s.platform.is.mobile===!0&&(qe(x,"tooltipTemp"),Be(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),q(()=>{N(S)},e.hideDelay)}function I(){if(e.noParentEvent===!0||E.value===null)return;const S=s.platform.is.mobile===!0?[[E.value,"touchstart","delayShow","passive"]]:[[E.value,"mouseenter","delayShow","passive"],[E.value,"mouseleave","delayHide","passive"]];me(x,"anchor",S)}function te(){if(E.value!==null||e.scrollTarget!==void 0){g.value=it(E.value,e.scrollTarget);const S=e.noParentEvent===!0?A:N;b(g.value,S)}}function ne(){return h.value===!0?p("div",{...o,ref:f,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,P.value],role:"tooltip"},Y(t.default)):null}function Q(){return p(Ye,O.value,ne)}return F(V),Object.assign(a.proxy,{updatePosition:A}),re}});function yt(e,t,n){t.handler?t.handler(e,n,n.caret):n.runCmd(t.cmd,t.param)}function ze(e){return p("div",{class:"q-editor__toolbar-group"},e)}function wt(e,t,n,o=!1){const l=o||(t.type==="toggle"?t.toggled?t.toggled(e):t.cmd&&e.caret.is(t.cmd,t.param):!1),u=[];if(t.tip&&e.$q.platform.is.desktop){const a=t.key?p("div",[p("small",`(CTRL + ${String.fromCharCode(t.key)})`)]):null;u.push(p(cn,{delay:1e3},()=>[p("div",{innerHTML:t.tip}),a]))}return p(oe,{...e.buttonProps.value,icon:t.icon!==null?t.icon:void 0,color:l?t.toggleColor||e.props.toolbarToggleColor:t.color||e.props.toolbarColor,textColor:l&&!e.props.toolbarPush?null:t.textColor||e.props.toolbarTextColor,label:t.label,disable:t.disable?typeof t.disable=="function"?t.disable(e):!0:!1,size:"sm",onClick(a){n&&n(),yt(a,t,e)}},()=>u)}function dn(e,t){const n=t.list==="only-icons";let o=t.label,l=t.icon!==null?t.icon:void 0,u,a;function s(){h.component.proxy.hide()}if(n)a=t.options.map(d=>{const m=d.type===void 0?e.caret.is(d.cmd,d.param):!1;return m&&(o=d.tip,l=d.icon!==null?d.icon:void 0),wt(e,d,s,m)}),u=e.toolbarBackgroundClass.value,a=[ze(a)];else{const d=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,m=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,v=t.list==="no-icons";a=t.options.map(c=>{const C=c.disable?c.disable(e):!1,q=c.type===void 0?e.caret.is(c.cmd,c.param):!1;q&&(o=c.tip,l=c.icon!==null?c.icon:void 0);const O=c.htmlTip;return p(Nt,{active:q,activeClass:d,clickable:!0,disable:C,dense:!0,onClick(P){s(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),yt(P,c,e)}},()=>[v===!0?null:p(Ne,{class:q?d:m,side:!0},()=>p(Ge,{name:c.icon!==null?c.icon:void 0})),p(Ne,O?()=>p("div",{class:"text-no-wrap",innerHTML:c.htmlTip}):c.tip?()=>p("div",{class:"text-no-wrap"},c.tip):void 0)])}),u=[e.toolbarBackgroundClass.value,m]}const f=t.highlight&&o!==t.label,h=p(un,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:f?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:f&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:t.fixedLabel?t.label:o,icon:t.fixedIcon?t.icon!==null?t.icon:void 0:l,contentClass:u,onShow:d=>e.emit("dropdownShow",d),onHide:d=>e.emit("dropdownHide",d),onBeforeShow:d=>e.emit("dropdownBeforeShow",d),onBeforeHide:d=>e.emit("dropdownBeforeHide",d)},()=>a);return h}function fn(e){if(e.caret)return e.buttons.value.filter(t=>!e.isViewingSource.value||t.find(n=>n.cmd==="viewsource")).map(t=>ze(t.map(n=>e.isViewingSource.value&&n.cmd!=="viewsource"?!1:n.type==="slot"?Y(e.slots[n.slot]):n.type==="dropdown"?dn(e,n):wt(e,n))))}function hn(e,t,n,o={}){const l=Object.keys(o);if(l.length===0)return{};const u={default_font:{cmd:"fontName",param:e,icon:n,tip:t}};return l.forEach(a=>{const s=o[a];u[a]={cmd:"fontName",param:s,icon:n,tip:s,htmlTip:`<font face="${s}">${s}</font>`}}),u}function vn(e){if(e.caret){const t=e.props.toolbarColor||e.props.toolbarTextColor;let n=e.editLinkUrl.value;const o=()=>{e.caret.restore(),n!==e.editLinkUrl.value&&document.execCommand("createLink",!1,n===""?" ":n),e.editLinkUrl.value=null};return[p("div",{class:`q-mx-xs text-${t}`},`${e.$q.lang.editor.url}: `),p("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:n,onInput:l=>{Je(l),n=l.target.value},onKeydown:l=>{if(Ze(l)!==!0)switch(l.keyCode){case 13:return ve(l),o();case 27:ve(l),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),ze([p(oe,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),p(oe,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:o})])]}}let ue=0;const mn={fullscreen:Boolean,noRouteFullscreenExit:Boolean},gn=["update:fullscreen","fullscreen"];function pn(){const e=_(),{props:t,emit:n,proxy:o}=e;let l,u,a;const s=L(!1);Ue(e)===!0&&H(()=>o.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&d()}),H(()=>t.fullscreen,m=>{s.value!==m&&f()}),H(s,m=>{n("update:fullscreen",m),n("fullscreen",m)});function f(){s.value===!0?d():h()}function h(){s.value!==!0&&(s.value=!0,a=o.$el.parentNode,a.replaceChild(u,o.$el),document.body.appendChild(o.$el),ue++,ue===1&&document.body.classList.add("q-body--fullscreen-mixin"),l={handler:d},Re.add(l))}function d(){s.value===!0&&(l!==void 0&&(Re.remove(l),l=void 0),a.replaceChild(o.$el,u),s.value=!1,ue=Math.max(0,ue-1),ue===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),o.$el.scrollIntoView!==void 0&&setTimeout(()=>{o.$el.scrollIntoView()})))}return _t(()=>{u=document.createElement("span")}),de(()=>{t.fullscreen===!0&&h()}),F(d),Object.assign(o,{toggleFullscreen:f,setFullscreen:h,exitFullscreen:d}),{inFullscreen:s,toggleFullscreen:f}}const bn=Object.prototype.toString,Se=Object.prototype.hasOwnProperty,yn=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function Ie(e){if(e!==Object(e)||yn.has(bn.call(e))===!0||e.constructor&&Se.call(e,"constructor")===!1&&Se.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let t;for(t in e);return t===void 0||Se.call(e,t)}function kt(){let e,t,n,o,l,u,a=arguments[0]||{},s=1,f=!1;const h=arguments.length;for(typeof a=="boolean"&&(f=a,a=arguments[1]||{},s=2),Object(a)!==a&&typeof a!="function"&&(a={}),h===s&&(a=this,s--);s<h;s++)if((e=arguments[s])!==null)for(t in e)n=a[t],o=e[t],a!==o&&(f===!0&&o&&((l=Array.isArray(o))||Ie(o)===!0)?(l===!0?u=Array.isArray(n)===!0?n:[]:u=Ie(n)===!0?n:{},a[t]=kt(f,u,o)):o!==void 0&&(a[t]=o));return a}var En=M({name:"QEditor",props:{...He,...mn,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(t=>t.length),default(){return[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]}},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...gn,"update:modelValue","keydown","click","mouseup","keyup","touchend","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:t,emit:n,attrs:o}){const{proxy:l,vnode:u}=_(),{$q:a}=l,s=Oe(e,a),{inFullscreen:f,toggleFullscreen:h}=pn(),d=Ft(o,u),m=L(null),v=L(null),c=L(null),C=L(!1),q=w(()=>!e.readonly&&!e.disable);let O,P,g=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),O=window.getComputedStyle(document.body).fontFamily;const b=w(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),y=w(()=>{const r=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:r,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!q.value,size:"sm"}}),E=w(()=>{const r=a.lang.editor,i=a.iconSet.editor;return{bold:{cmd:"bold",icon:i.bold,tip:r.bold,key:66},italic:{cmd:"italic",icon:i.italic,tip:r.italic,key:73},strike:{cmd:"strikeThrough",icon:i.strikethrough,tip:r.strikethrough,key:83},underline:{cmd:"underline",icon:i.underline,tip:r.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:i.unorderedList,tip:r.unorderedList},ordered:{cmd:"insertOrderedList",icon:i.orderedList,tip:r.orderedList},subscript:{cmd:"subscript",icon:i.subscript,tip:r.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:i.superscript,tip:r.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:k=>k.caret&&!k.caret.can("link"),icon:i.hyperlink,tip:r.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:i.toggleFullscreen,tip:r.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:i.viewSource,tip:r.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:i.quote,tip:r.quote,key:81},left:{cmd:"justifyLeft",icon:i.left,tip:r.left},center:{cmd:"justifyCenter",icon:i.center,tip:r.center},right:{cmd:"justifyRight",icon:i.right,tip:r.right},justify:{cmd:"justifyFull",icon:i.justify,tip:r.justify},print:{type:"no-state",cmd:"print",icon:i.print,tip:r.print,key:80},outdent:{type:"no-state",disable:k=>k.caret&&!k.caret.can("outdent"),cmd:"outdent",icon:i.outdent,tip:r.outdent},indent:{type:"no-state",disable:k=>k.caret&&!k.caret.can("indent"),cmd:"indent",icon:i.indent,tip:r.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:i.removeFormat,tip:r.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:i.hr,tip:r.hr},undo:{type:"no-state",cmd:"undo",icon:i.undo,tip:r.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:i.redo,tip:r.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:i.heading1||i.heading,tip:r.heading1,htmlTip:`<h1 class="q-ma-none">${r.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:i.heading2||i.heading,tip:r.heading2,htmlTip:`<h2 class="q-ma-none">${r.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:i.heading3||i.heading,tip:r.heading3,htmlTip:`<h3 class="q-ma-none">${r.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:i.heading4||i.heading,tip:r.heading4,htmlTip:`<h4 class="q-ma-none">${r.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:i.heading5||i.heading,tip:r.heading5,htmlTip:`<h5 class="q-ma-none">${r.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:i.heading6||i.heading,tip:r.heading6,htmlTip:`<h6 class="q-ma-none">${r.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:i.heading,tip:r.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:i.code,htmlTip:`<code>${r.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:i.size1||i.size,tip:r.size1,htmlTip:`<font size="1">${r.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:i.size2||i.size,tip:r.size2,htmlTip:`<font size="2">${r.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:i.size3||i.size,tip:r.size3,htmlTip:`<font size="3">${r.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:i.size4||i.size,tip:r.size4,htmlTip:`<font size="4">${r.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:i.size5||i.size,tip:r.size5,htmlTip:`<font size="5">${r.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:i.size6||i.size,tip:r.size6,htmlTip:`<font size="6">${r.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:i.size7||i.size,tip:r.size7,htmlTip:`<font size="7">${r.size7}</font>`}}}),J=w(()=>{const r=e.definitions||{},i=e.definitions||e.fonts?kt(!0,{},E.value,r,hn(O,a.lang.editor.defaultFont,a.iconSet.editor.font,e.fonts)):E.value;return e.toolbar.map(k=>k.map(B=>{if(B.options)return{type:"dropdown",icon:B.icon,label:B.label,size:"sm",dense:!0,fixedLabel:B.fixedLabel,fixedIcon:B.fixedIcon,highlight:B.highlight,list:B.list,options:B.options.map(Ct=>i[Ct])};const $=i[B];return $?$.type==="no-state"||r[B]&&($.cmd===void 0||E.value[$.cmd]&&E.value[$.cmd].type==="no-state")?$:Object.assign({type:"toggle"},$):{type:"slot",slot:B}}))}),x={$q:a,props:e,slots:t,emit:n,inFullscreen:f,toggleFullscreen:h,runCmd:R,isViewingSource:C,editLinkUrl:c,toolbarBackgroundClass:b,buttonProps:y,contentRef:v,buttons:J,setContent:S};H(()=>e.modelValue,r=>{g!==r&&(g=r,S(r,!0))}),H(c,r=>{n(`link-${r?"Show":"Hide"}`)});const ae=w(()=>e.toolbar&&e.toolbar.length>0),N=w(()=>{const r={},i=k=>{k.key&&(r[k.key]={cmd:k.cmd,param:k.param})};return J.value.forEach(k=>{k.forEach(B=>{B.options?B.options.forEach(i):i(B)})}),r}),D=w(()=>f.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),W=w(()=>`q-editor q-editor--${C.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(f.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(s.value===!0?" q-editor--dark q-dark":"")),re=w(()=>[e.contentClass,"q-editor__content",{col:f.value,"overflow-auto":f.value||e.maxHeight}]),j=w(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});function Z(){if(v.value!==null){const r=`inner${C.value===!0?"Text":"HTML"}`,i=v.value[r];i!==e.modelValue&&(g=i,n("update:modelValue",i))}}function V(r){if(n("keydown",r),r.ctrlKey!==!0||Ze(r)===!0){T();return}const i=r.keyCode,k=N.value[i];if(k!==void 0){const{cmd:B,param:$}=k;ke(r),R(B,$,!1)}}function A(r){T(),n("click",r)}function se(r){if(v.value!==null){const{scrollTop:i,scrollHeight:k}=v.value;P=k-i}x.caret.save(),n("blur",r)}function ee(r){ce(()=>{v.value!==null&&P!==void 0&&(v.value.scrollTop=v.value.scrollHeight-P)}),n("focus",r)}function I(r){const i=m.value;if(i!==null&&i.contains(r.target)===!0&&(r.relatedTarget===null||i.contains(r.relatedTarget)!==!0)){const k=`inner${C.value===!0?"Text":"HTML"}`;x.caret.restorePosition(v.value[k].length),T()}}function te(r){const i=m.value;i!==null&&i.contains(r.target)===!0&&(r.relatedTarget===null||i.contains(r.relatedTarget)!==!0)&&(x.caret.savePosition(),T())}function ne(){P=void 0}function Q(r){x.caret.save()}function S(r,i){if(v.value!==null){i===!0&&x.caret.savePosition();const k=`inner${C.value===!0?"Text":"HTML"}`;v.value[k]=r,i===!0&&(x.caret.restorePosition(v.value[k].length),T())}}function R(r,i,k=!0){z(),x.caret.restore(),x.caret.apply(r,i,()=>{z(),x.caret.save(),k&&T()})}function T(){setTimeout(()=>{c.value=null,l.$forceUpdate()},1)}function z(){Ve(()=>{v.value!==null&&v.value.focus({preventScroll:!0})})}function U(){return v.value}return de(()=>{x.caret=l.caret=new ln(v.value,x),S(e.modelValue),T(),document.addEventListener("selectionchange",Q)}),F(()=>{document.removeEventListener("selectionchange",Q)}),Object.assign(l,{runCmd:R,refreshToolbar:T,focus:z,getContentEl:U}),()=>{let r;if(ae.value){const i=[p("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+b.value},fn(x))];c.value!==null&&i.push(p("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+b.value},vn(x))),r=p("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},i)}return p("div",{ref:m,class:W.value,style:{height:f.value===!0?"100%":null},...j.value,onFocusin:I,onFocusout:te},[r,p("div",{ref:v,style:D.value,class:re.value,contenteditable:q.value,placeholder:e.placeholder,...d.listeners.value,onInput:Z,onKeydown:V,onClick:A,onBlur:se,onFocus:ee,onMousedown:ne,onTouchstartPassive:ne})])}}});export{nn as Q,tt as a,nt as b,ot as c,lt as d,Sn as e,Be as f,qn as g,Tn as h,it as i,Dt as j,$e as k,dt as l,ct as m,Me as n,Jt as o,Yt as p,Ne as q,Zt as r,xn as s,Nt as t,et as u,En as v,Bn as w,Pn as x,un as y};
